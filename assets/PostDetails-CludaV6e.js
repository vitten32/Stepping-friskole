import{p as E,I as L,m as z,a as M,b as R,c as q,d as N,e as O,g as H,u as G,f as k,h as K,i as U,j as J,k as Q,l as W,t as X,n as Y,o as s,V as Z,q as ee,r as te,s as ae,v as _,w as oe,x as se,y as d,z as v,A as i,B as le,C as V,D as T,E as ne,F as re,G as ie,_ as ce}from"./index-Cbh5NEfa.js";import{c as ue,V as de,a as ve,b as me,d as ye,e as pe}from"./VCard-rC1eDN0I.js";import{m as fe,a as _e,b as ke,c as ge,u as be,d as he,e as Ve,f as Ce,g as Pe,V as S,h as xe,i as Te}from"./VBtn-DhCBIlIh.js";const Se=ue("v-alert-title"),je=["success","info","warning","error"],we=E({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:L,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>je.includes(e)},...z(),...fe(),...M(),...R(),..._e(),...ke(),...q(),...N(),...O(),...ge({variant:"flat"})},"VAlert"),Ae=H()({name:"VAlert",props:we(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,m){let{emit:a,slots:t}=m;const c=G(e,"modelValue"),n=k(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),g=k(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:b}=K(e),{colorClasses:y,colorStyles:p,variantClasses:l}=be(g),{densityClasses:o}=he(e),{dimensionStyles:f}=U(e),{elevationClasses:r}=J(e),{locationStyles:j}=Ve(e),{positionClasses:w}=Ce(e),{roundedClasses:A}=Q(e),{textColorClasses:I,textColorStyles:B}=W(X(e,"borderColor")),{t:D}=Y(),C=k(()=>({"aria-label":D(e.closeLabel),onClick(h){c.value=!1,a("click:close",h)}}));return()=>{const h=!!(t.prepend||n.value),F=!!(t.title||e.title),$=!!(t.close||e.closable);return c.value&&s(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},b.value,y.value,o.value,r.value,w.value,A.value,l.value,e.class],style:[p.value,f.value,j.value,e.style],role:"alert"},{default:()=>{var P,x;return[Pe(!1,"v-alert"),e.border&&s("div",{key:"border",class:["v-alert__border",I.value],style:B.value},null),h&&s("div",{key:"prepend",class:"v-alert__prepend"},[t.prepend?s(S,{key:"prepend-defaults",disabled:!n.value,defaults:{VIcon:{density:e.density,icon:n.value,size:e.prominent?44:28}}},t.prepend):s(Z,{key:"prepend-icon",density:e.density,icon:n.value,size:e.prominent?44:28},null)]),s("div",{class:"v-alert__content"},[F&&s(Se,{key:"title"},{default:()=>{var u;return[((u=t.title)==null?void 0:u.call(t))??e.title]}}),((P=t.text)==null?void 0:P.call(t))??e.text,(x=t.default)==null?void 0:x.call(t)]),t.append&&s("div",{key:"append",class:"v-alert__append"},[t.append()]),$&&s("div",{key:"close",class:"v-alert__close"},[t.close?s(S,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var u;return[(u=t.close)==null?void 0:u.call(t,{props:C.value})]}}):s(xe,ee({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},C.value),null)])]}})}}}),Ie=te({__name:"PostDetails",setup(e){const m=ae(),a=_(null),t=_(!0),c=_(!1),n=_("Om Stepping Friskole - Faglighed og Fællesskab"),g=l=>{l.forEach(o=>{const f=o.name?document.querySelector(`meta[name='${o.name}']`):document.querySelector(`meta[property='${o.property}']`);if(f)f.setAttribute("content",o.content);else{const r=document.createElement("meta");o.name&&r.setAttribute("name",o.name),o.property&&r.setAttribute("property",o.property),r.setAttribute("content",o.content),document.head.appendChild(r)}})},b=()=>{window.scrollTo({top:0,behavior:"smooth"})},y=async()=>{try{const l=m.params.id,o=await pe.get(`https://stepping-friskole.dk/wp-json/wp/v2/posts/${l}`);a.value=o.data,a.value&&a.value.yoast_head_json&&g([{name:"description",content:a.value.yoast_head_json.og_description},{property:"og:title",content:a.value.title.rendered},{property:"og:description",content:a.value.yoast_head_json.og_description},{property:"og:image",content:a.value.yoast_head_json.og_image[0].url},{name:"author",content:a.value.yoast_head_json.author},{property:"og:url",content:a.value.link}]),a.value&&(n.value=a.value.title.rendered)}catch(l){console.error("Fejl ved hentning af post:",l),c.value=!0}finally{t.value=!1}};oe(()=>{b(),document.title=n.value,y()});const p=k(()=>{var l,o;return((o=(l=a.value)==null?void 0:l.yoast_head_json.og_image[0])==null?void 0:o.url)||""});return se(m,y),(l,o)=>(d(),v(ie,null,{default:i(()=>[s(re,{class:"my-8",justify:"center"},{default:i(()=>[s(le,{cols:"12",md:"8"},{default:i(()=>[t.value?(d(),v(Te,{key:0,class:"d-flex mx-auto my-8",color:"primary",indeterminate:"",size:"70"})):V("",!0),!t.value&&a.value?(d(),v(de,{key:1},{default:i(()=>[s(ve,{class:"title"},{default:i(()=>[T(ne(a.value.title.rendered),1)]),_:1}),p.value?(d(),v(me,{key:0,alt:a.value.title.rendered,"aspect-ratio":"1.7",class:"my-4",src:p.value},null,8,["alt","src"])):V("",!0),s(ye,{class:"content",innerHTML:a.value.yoast_head_json.og_description},null,8,["innerHTML"])]),_:1})):!t.value&&c.value?(d(),v(Ae,{key:2,type:"error"},{default:i(()=>[T(" Kunne ikke indlæse post. Prøv venligst igen senere. ")]),_:1})):V("",!0)]),_:1})]),_:1})]),_:1}))}}),$e=ce(Ie,[["__scopeId","data-v-467b61db"]]);export{$e as default};
